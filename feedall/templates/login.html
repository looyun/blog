{{template "header"}}
<title>FeedAll</title>
</head>

<body>
    <header>
        {{template "navbar" .}}
    </header>
    <div class="row container login">
        <input id="Loginerr" type="hidden" value="{{.LoginErr}}">
        <div class="col s3">
        </div>
        <form method="post" action="/user/login" class="col s6">
            <div class="row">
                <div class="col s12">
                    <h2><a href="/user/login">Login</a><a class="right" href="/user/register"><h8 class="black-text">or </h8>Register</a></h2>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input id="username" type="text" class="validate" name="username">
                    <label for="username">Username</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input id="password" type="password" class="validate" name="password">
                    <label for="password">Password</label>
                </div>
            </div>
            <div class="row">
                <div class="switch col s12">
                    <label>
                        Auto login: Off
                        <input type="checkbox">
                        <span class="lever"></span> On
                    </label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <button class="btn blue waves-effect waves-light" type="submit" name="action" onclick="return checkInput();">Login</button>
                    <button class="right blue btn waves-effect waves-light" onclick="return backToHome();">Back</button>
                </div>
            </div>
        </form>
    </div>
    <script type="text/javascript">
    $(document).ready(function() {
        if ($("#Loginerr").value == true) {
            Materialize.toast('Account or password error!', 4000, "rounded")
        }
    });

    function checkInput() {
        var uname = document.getElementById("username");
        if (uname.value.length == 0) {
            Materialize.toast('please input account!', 4000, "rounded")
            return false
        }

        var pwd = document.getElementById("password");
        if (pwd.value.length == 0) {
            Materialize.toast('please input password!', 4000, "rounded")
            return false
        }
    }

    function backToHome() {
        window.location.href = "/";
        return false;
    }
    </script>
</body>

</html>
